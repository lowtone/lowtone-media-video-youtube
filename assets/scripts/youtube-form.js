// Generated by CoffeeScript 1.5.0
(function() {
  var angular;

  angular = this.angular;

  this.YouTubeSearchCtrl = function($scope, $http) {
    delete $http.defaults.headers.common['X-Requested-With'];
    $scope.video_url = "";
    $scope.search_query = "";
    $scope.results = [];
    $scope.search = function() {
      var http_options, success;
      http_options = {
        method: 'GET',
        url: 'https://gdata.youtube.com/feeds/api/videos',
        params: {
          alt: 'json',
          q: $scope.search_query,
          v: 2,
          'max-results': 28
        }
      };
      success = function(response) {
        console.dir(response);
        return $scope.results = response.feed.entry;
      };
      return $http(http_options).success(success);
    };
    return $scope.select = function(item) {
      $scope.video_url = item.link[0].href;
      if ($scope.selected) {
        $scope.selected["class"] = null;
      }
      $scope.selected = item;
      return $scope.selected["class"] = 'selected';
    };
  };

  this.YouTubeSearchCtrl.$inject = ['$scope', '$http'];

}).call(this);
